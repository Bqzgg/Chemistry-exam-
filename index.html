<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار الكيمياء - الطرائق العلمية والبحث العلمي</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .student-info {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
        }

        .info-item input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .info-item input:focus {
            outline: none;
            border-color: #667eea;
        }

        .quiz-container {
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .section-title {
            background: #34495e;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 25px 0 20px 0;
            font-size: 20px;
            text-align: center;
        }

        .question {
            background: #f8f9fa;
            padding: 20px;
            margin: 15px 0;
            border-radius: 15px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .question:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .question-number {
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2c3e50;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .option:hover {
            background: #e9ecef;
            border-color: #adb5bd;
        }

        .option.selected {
            border-color: #667eea;
            background: #e3f2fd;
        }

        .option.correct {
            border-color: #28a745;
            background: #d4edda;
        }

        .option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .option-letter {
            background: #6c757d;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            font-weight: bold;
        }

        .correct-answer {
            background: #d4edda;
            border: 2px solid #28a745;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-submit {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        .btn-reset {
            background: linear-gradient(135deg, #dc3545, #e83e8c);
            color: white;
        }

        .btn-reset:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.4);
        }

        .result-container {
            display: none;
            background: white;
            padding: 40px;
            text-align: center;
            border-radius: 20px;
            margin-top: 20px;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .score {
            font-size: 48px;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }

        .grade {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .feedback {
            font-size: 18px;
            color: #6c757d;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.5s ease;
        }

        .team-members {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            border: 2px solid #e9ecef;
        }

        .team-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }

        .members-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .member {
            padding: 10px;
            background: white;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #dee2e6;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧪 اختبار الكيمياء</h1>
            <p>الطرائق العلمية والبحث العلمي</p>
        </div>

        <div class="student-info">
            <h3>المعلومات الشخصية</h3>
            <div class="info-grid">
                <div class="info-item">
                    <input type="text" id="studentName" placeholder="اسم الطالب">
                </div>
                <div class="info-item">
                    <input type="text" id="studentClass" placeholder="الصف">
                </div>
                <div class="info-item">
                    <input type="date" id="examDate">
                </div>
            </div>
        </div>

        <div class="quiz-container" id="quizContainer">
            <!-- الأسئلة سيتم إضافتها هنا بالJavaScript -->
        </div>

        <div class="controls">
            <button class="btn btn-submit" onclick="submitQuiz()">تسليم الاختبار</button>
            <button class="btn btn-reset" onclick="resetQuiz()">إعادة البدء</button>
        </div>

        <div class="result-container" id="resultContainer">
            <h2>🎉 نتائج الاختبار</h2>
            <div class="score" id="finalScore">0/40</div>
            <div class="grade" id="gradeText">...</div>
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
            <div class="feedback" id="feedbackText"></div>
            
            <div class="team-members">
                <div class="team-title">فريق العمل الطلابي</div>
                <div class="members-grid">
                    <div class="member">تميم المالكي</div>
                    <div class="member">محمد المطاوعه</div>
                    <div class="member">سلطان العثمان</div>
                    <div class="member">سعود القحطاني</div>
                    <div class="member">راكان العنزي</div>
                    <div class="member">فراس المسعد</div>
                    <div class="member">يوسف الغامدي</div>
                </div>
            </div>
        </div>
    </div>

    <audio id="correctSound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" preload="auto"></audio>
    <audio id="wrongSound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3" preload="auto"></audio>

    <script>
        // بيانات الأسئلة الكاملة (40 سؤال)
        const questions = [
            {
                question: "ما المقصود بالطريقة العلمية؟",
                options: [
                    "أ- أسلوب منظم لدراسة الظواهر وحل المشكلات",
                    "ب- تخمين يعتمد على الحدس", 
                    "ج- سرد المعلومات بدون تجربة"
                ],
                correct: 0,
                explanation: "الطريقة العلمية هي أسلوب منظم ومتسلسل يتبع خطوات محددة لدراسة الظواهر وحل المشكلات"
            },
            {
                question: "ما أول خطوة في الطريقة العلمية؟",
                options: [
                    "أ- وضع الفرضية",
                    "ب- تحديد المشكلة أو طرح السؤال",
                    "ج- تحليل البيانات"
                ],
                correct: 1,
                explanation: "تبدأ الطريقة العلمية بتحديد المشكلة أو طرح سؤال بحثي واضح"
            },
            {
                question: "أي من الخطوات التالية تُمثل جزءًا من الطريقة العلمية؟",
                options: [
                    "أ- جمع البيانات وتحليلها",
                    "ب- تجاهل الملاحظات",
                    "ج- عرض النتائج دون تجربة"
                ],
                correct: 0,
                explanation: "جمع البيانات وتحليلها خطوة أساسية في الطريقة العلمية"
            },
            {
                question: "أي مما يلي يهدف إليه استخدام الطريقة العلمية؟",
                options: [
                    "أ- إثبات الآراء الشخصية",
                    "ب- الوصول إلى نتائج دقيقة مبنية على أدلة",
                    "ج- زيادة عدد التجارب فقط"
                ],
                correct: 1,
                explanation: "الهدف الرئيسي هو الوصول لنتائج دقيقة قائمة على أدلة وبراهين"
            },
            {
                question: "البيانات التي تُعبّر بالأرقام تُسمى:",
                options: [
                    "أ- بيانات كمية",
                    "ب- بيانات وصفية", 
                    "ج- بيانات عامة"
                ],
                correct: 0,
                explanation: "البيانات الكمية هي التي تعبر عنها بالأرقام والقياسات"
            },
            {
                question: "عندما نصف لون الزهرة أو رائحتها، فإننا نسجل:",
                options: [
                    "أ- بيانات كمية",
                    "ب- بيانات وصفية",
                    "ج- بيانات تجريبية"
                ],
                correct: 1,
                explanation: "البيانات الوصفية تعتمد على الوصف النوعي وليس القياسات الرقمية"
            },
            {
                question: "ما الفرق بين الفرضية والنظرية؟",
                options: [
                    "أ- الفرضية تفسير مبدئي، والنظرية تفسير مدعوم بأدلة",
                    "ب- الفرضية قانون دائم",
                    "ج- النظرية تخمين غير مثبت"
                ],
                correct: 0,
                explanation: "الفرضية تفسير أولي بينما النظرية تفسير مدعوم بعدة أدلة وتجارب"
            },
            {
                question: "القانون العلمي يختلف عن النظرية بأنه:",
                options: [
                    "أ- يصف ما يحدث دائماً في الطبيعة",
                    "ب- يفسر سبب حدوث الظاهرة",
                    "ج- يعتمد على الملاحظات فقط"
                ],
                correct: 0,
                explanation: "القانون العلمي يصف الظاهرة بينما النظرية تشرح أسبابها"
            },
            {
                question: "أي مما يلي يُعد فرضية علمية صحيحة؟",
                options: [
                    "أ- 'إذا ارتفعت درجة الحرارة، فإن سرعة التفاعل الكيميائي تزداد.'",
                    "ب- 'الماء سائل في درجة الحرارة العادية.'",
                    "ج- 'الجاذبية تسحب الأجسام نحو الأرض.'"
                ],
                correct: 0,
                explanation: "الفرضية العلمية يجب أن تكون قابلة للاختبار والتجريب"
            },
            {
                question: "المتغير المستقل هو:",
                options: [
                    "أ- العامل الذي يغيّره الباحث أثناء التجربة",
                    "ب- العامل الذي يقاس في النهاية",
                    "ج- العامل الذي يبقى ثابتًا"
                ],
                correct: 0,
                explanation: "المتغير المستقل هو العامل الذي يتم تغييره لدراسة تأثيره"
            },
            {
                question: "المتغير التابع هو:",
                options: [
                    "أ- العامل الذي يُقاس لمعرفة تأثير التغيرات",
                    "ب- العامل الذي لا يتغير",
                    "ج- العامل الذي يتم اختياره عشوائيًا"
                ],
                correct: 0,
                explanation: "المتغير التابع هو الذي يتم قياسه لمعرفة تأثير المتغير المستقل"
            },
            {
                question: "ما المقصود بالمتغيرات الثابتة؟",
                options: [
                    "أ- عوامل لا تتغير طوال التجربة",
                    "ب- عوامل تتغير باستمرار",
                    "ج- عوامل يتم قياسها فقط"
                ],
                correct: 0,
                explanation: "المتغيرات الثابتة تبقى كما هي لضمان عدالة التجربة"
            },
            {
                question: "الهدف من التجربة هو:",
                options: [
                    "أ- اختبار الفرضية والتحقق منها",
                    "ب- جمع بيانات دون غاية",
                    "ج- تغيير المتغيرات فقط"
                ],
                correct: 0,
                explanation: "التجربة وسيلة لاختبار صحة الفرضية العلمية"
            },
            {
                question: "عند تحليل النتائج، على الباحث أن:",
                options: [
                    "أ- يربط النتائج بالفرضية",
                    "ب- يتجاهل القيم غير المتوقعة",
                    "ج- يعتمد على الحظ"
                ],
                correct: 0,
                explanation: "تحليل النتائج يجب أن يكون موضوعياً ومرتبطاً بالفرضية"
            },
            {
                question: "أي من الخطوات تأتي بعد التجربة؟",
                options: [
                    "أ- استخلاص النتائج",
                    "ب- تحديد الفرضية",
                    "ج- طرح السؤال"
                ],
                correct: 0,
                explanation: "بعد التجربة يتم تحليل البيانات واستخلاص النتائج"
            },
            {
                question: "ما الهدف من النتائج في التجربة؟",
                options: [
                    "أ- تفسير ما تم ملاحظته وتحديد دلالته",
                    "ب- حفظ البيانات دون تحليل",
                    "ج- إعادة التجربة فقط"
                ],
                correct: 0,
                explanation: "النتائج تساعد في فهم الظاهرة واتخاذ القرارات"
            },
            {
                question: "لماذا يُفضل تكرار التجربة أكثر من مرة؟",
                options: [
                    "أ- للتحقق من دقة النتائج",
                    "ب- لتغيير الفرضية",
                    "ج- لتقليل عدد الملاحظات"
                ],
                correct: 0,
                explanation: "التكرار يزيد من دقة النتائج ويقلل من الأخطاء"
            },
            {
                question: "عندما تقارن بين بيانات تجربتين مختلفتين فإنك تستخدم مهارة:",
                options: [
                    "أ- التحليل",
                    "ب- التذكر",
                    "ج- التخمين"
                ],
                correct: 0,
                explanation: "المقارنة بين البيانات تتطلب مهارات تحليلية متقدمة"
            },
            {
                question: "إذا لم تؤيد النتائج الفرضية، فإن الخطوة التالية هي:",
                options: [
                    "أ- تعديل الفرضية أو إعادة التجربة",
                    "ب- تجاهل البيانات",
                    "ج- إعلان النتيجة نهائية"
                ],
                correct: 0,
                explanation: "في العلم، الفشل في إثبات الفرضية لا يعني فشل التجربة"
            },
            {
                question: "أي من التالي يمثل استخدامًا صحيحًا للطريقة العلمية؟",
                options: [
                    "أ- اختبار عامل واحد في كل مرة",
                    "ب- تغيير جميع العوامل في التجربة",
                    "ج- تسجيل الملاحظات فقط"
                ],
                correct: 0,
                explanation: "الطريقة العلمية تتطلب التحكم في المتغيرات واختبار عامل واحد"
            },
            {
                question: "البحث العلمي هو:",
                options: [
                    "أ- عملية منظمة تهدف إلى اكتساب معرفة جديدة",
                    "ب- عمل يعتمد على التخمينات",
                    "ج- تجربة عشوائية"
                ],
                correct: 0,
                explanation: "البحث العلمي عملية منهجية ومنظمة لاكتشاف المعرفة"
            },
            {
                question: "الفرق بين البحث النظري والتطبيقي هو أن:",
                options: [
                    "أ- النظري يهدف إلى الفهم، والتطبيقي لحل المشكلات",
                    "ب- التطبيقي لا يعتمد على التجربة",
                    "ج- النظري يستخدم مواد كيميائية فقط"
                ],
                correct: 0,
                explanation: "البحث النظري يوسع المعرفة بينما التطبيقي يحل مشكلات عملية"
            },
            {
                question: "من أمثلة البحث النظري:",
                options: [
                    "أ- دراسة تركيب الذرة",
                    "ب- تطوير دواء جديد",
                    "ج- اختراع آلة كهربائية"
                ],
                correct: 0,
                explanation: "دراسة تركيب الذرة بحث نظري يهدف لفهم الطبيعة"
            },
            {
                question: "من أمثلة البحث التطبيقي:",
                options: [
                    "أ- اكتشاف تركيب الماء",
                    "ب- تطوير علاج للسرطان",
                    "ج- دراسة الضوء"
                ],
                correct: 1,
                explanation: "تطوير علاج للسرطان بحث تطبيقي يهدف لحل مشكلة صحية"
            },
            {
                question: "من تعليمات السلامة في المختبر:",
                options: [
                    "أ- ارتداء المعطف والنظارات الواقية",
                    "ب- لمس المواد باليد مباشرة",
                    "ج- الأكل أثناء التجربة"
                ],
                correct: 0,
                explanation: "ارتداء معدات الوقاية الشخصية إجراء سلامة أساسي"
            },
            {
                question: "عند حدوث تسرب كيميائي في المختبر، يجب:",
                options: [
                    "أ- إخبار المعلم فوراً",
                    "ب- تنظيفه بقطعة قماش",
                    "ج- تجاهله"
                ],
                correct: 0,
                explanation: "الإبلاغ الفوري عن الحوادث يضمن التعامل الآمن معها"
            },
            {
                question: "لماذا تُعد السلامة في المختبر مهمة؟",
                options: [
                    "أ- لحماية الأفراد والمعدات",
                    "ب- لتسريع التجربة",
                    "ج- لزيادة النتائج"
                ],
                correct: 0,
                explanation: "السلامة تحمي الأشخاص والمعدات من الأخطار"
            },
            {
                question: "من فوائد دراسة الكيمياء:",
                options: [
                    "أ- إنتاج أدوية ومواد مفيدة",
                    "ب- تقليل الموارد الطبيعية",
                    "ج- زيادة الحوادث"
                ],
                correct: 0,
                explanation: "الكيمياء تساهم في تطوير الأدوية والمواد المفيدة"
            },
            {
                question: "كيف ساهمت الكيمياء في حياتنا اليومية؟",
                options: [
                    "أ- في صناعة الأدوية والمنظفات والوقود",
                    "ب- في تقليل جودة الهواء",
                    "ج- في الحد من الاكتشافات"
                ],
                correct: 0,
                explanation: "الكيمياء تدخل في معظم منتجات الحياة اليومية"
            },
            {
                question: "ما المقصود بالاكتشافات غير المقصودة؟",
                options: [
                    "أ- اكتشافات حدثت بالصدفة وأفادت البشرية",
                    "ب- نتائج خاطئة لا فائدة منها",
                    "ج- تجارب ناقصة"
                ],
                correct: 0,
                explanation: "الاكتشافات غير المقصودة تحدث أثناء البحث عن شيء آخر"
            },
            {
                question: "أي من الأمثلة تمثل اكتشافًا غير مقصود؟",
                options: [
                    "أ- اكتشاف البنسلين",
                    "ب- اكتشاف الذرة",
                    "ج- اكتشاف الجدول الدوري"
                ],
                correct: 0,
                explanation: "البنسلين اكتشف بالصدفة بواسطة ألكسندر فلمنج"
            },
            {
                question: "تسجيل الملاحظات أثناء التجربة يساعد على:",
                options: [
                    "أ- دقة النتائج وتحليلها",
                    "ب- حفظ الوقت فقط",
                    "ج- زيادة عدد الأخطاء"
                ],
                correct: 0,
                explanation: "التسجيل الدقيق للملاحظات أساسي لتحليل النتائج"
            },
            {
                question: "استخدام الرسوم البيانية في عرض البيانات يهدف إلى:",
                options: [
                    "أ- توضيح العلاقات بين المتغيرات بصرياً",
                    "ب- تزيين التقرير",
                    "ج- حفظ الألوان"
                ],
                correct: 0,
                explanation: "الرسوم البيانية تسهل فهم العلاقات والاتجاهات"
            },
            {
                question: "من خصائص الباحث العلمي الجيد:",
                options: [
                    "أ- الدقة والموضوعية والصبر",
                    "ب- التسرع والعشوائية",
                    "ج- الاعتماد على الحظ"
                ],
                correct: 0,
                explanation: "الباحث الجيد يتسم بالدقة والموضوعية والصبر"
            },
            {
                question: "ما القيمة التي تؤكد عليها أخلاقيات البحث العلمي؟",
                options: [
                    "أ- الأمانة في نقل النتائج وتوثيق المصادر",
                    "ب- إخفاء الأخطاء",
                    "ج- تقليد أبحاث الآخرين"
                ],
                correct: 0,
                explanation: "الأمانة العلمية أساس أخلاقيات البحث"
            }
        ];

        let userAnswers = new Array(questions.length).fill(-1);
        let quizSubmitted = false;

        // عرض الأسئلة
        function renderQuestions() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';

            // قسم الطرائق العلمية
            const methodsSection = document.createElement('div');
            methodsSection.innerHTML = '<div class="section-title">🔬 الطرائق العلمية</div>';
            container.appendChild(methodsSection);

            // قسم البحث العلمي
            const researchSection = document.createElement('div');
            researchSection.innerHTML = '<div class="section-title">📚 البحث العلمي</div>';
            container.appendChild(researchSection);

            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <div class="question-number">${index + 1}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <div class="option ${userAnswers[index] === optIndex ? 'selected' : ''}" 
                                 onclick="selectAnswer(${index}, ${optIndex})">
                                ${option}
                                <div class="option-letter">${String.fromCharCode(65 + optIndex)}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="correct-answer" id="answer${index}">
                        <strong>الإجابة الصحيحة:</strong> ${q.options[q.correct]}<br>
                        <strong>التوضيح:</strong> ${q.explanation}
                    </div>
                `;
                
                if (index < 20) {
                    methodsSection.appendChild(questionDiv);
                } else {
                    researchSection.appendChild(questionDiv);
                }
            });
        }

        // اختيار الإجابة
        function selectAnswer(questionIndex, optionIndex) {
            if (quizSubmitted) return;
            
            userAnswers[questionIndex] = optionIndex;
            renderQuestions();
        }

        // تشغيل الصوت
        function playSound(isCorrect) {
            const sound = document.getElementById(isCorrect ? 'correctSound' : 'wrongSound');
            sound.currentTime = 0;
            sound.play().catch(e => console.log('تعذر تشغيل الصوت'));
        }

        // تسليم الاختبار
        function submitQuiz() {
            const name = document.getElementById('studentName').value;
            if (!name) {
                alert('الرجاء إدخال اسم الطالب');
                return;
            }

            quizSubmitted = true;
            let score = 0;

            // حساب النقاط وعرض الإجابات الصحيحة
            questions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    score++;
                } else if (userAnswers[index] !== -1) {
                    // إظهار الإجابة الصحيحة إذا أجاب خطأ
                    document.getElementById(`answer${index}`).style.display = 'block';
                    playSound(false);
                }
            });

            // عرض النتائج
            showResults(score);
        }

        // عرض النتائج
        function showResults(score) {
            const totalQuestions = questions.length;
            const percentage = (score / totalQuestions) * 100;
            
            document.getElementById('finalScore').textContent = `${score}/${totalQuestions}`;
            document.getElementById('progressBar').style.width = `${percentage}%`;
            
            let gradeText = '';
            let feedback = '';
            
            if (percentage >= 90) {
                gradeText = 'امتياز 🎊';
                feedback = 'أداء رائع! لديك فهم ممتاز للموضوع.';
            } else if (percentage >= 80) {
                gradeText = 'جيد جداً 👍';
                feedback = 'أداء ممتاز، استمر في المذاكرة.';
            } else if (percentage >= 70) {
                gradeText = 'جيد 😊';
                feedback = 'أداء جيد، يمكنك التحسين بالمزيد من المراجعة.';
            } else if (percentage >= 60) {
                gradeText = 'مقبول 👌';
                feedback = 'أداء مقبول، تحتاج للمزيد من التركيز.';
            } else {
                gradeText = 'ضعيف 📚';
                feedback = 'تحتاج للمزيد من الدراسة والمراجعة.';
            }
            
            document.getElementById('gradeText').textContent = gradeText;
            document.getElementById('feedbackText').textContent = feedback;
            document.getElementById('resultContainer').style.display = 'block';
            
            // التمرير إلى النتائج
            document.getElementById('resultContainer').scrollIntoView({ behavior: 'smooth' });
        }

        // إعادة البدء
        function resetQuiz() {
            userAnswers = new Array(questions.length).fill(-1);
            quizSubmitted = false;
            document.getElementById('studentName').value = '';
            document.getElementById('studentClass').value = '';
            document.getElementById('examDate').value = '';
            document.getElementById('resultContainer').style.display = 'none';
            renderQuestions();
        }

        // التهيئة الأولية
        document.addEventListener('DOMContentLoaded', function() {
            // تعيين التاريخ الحالي
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('examDate').value = today;
            
            renderQuestions();
        });
    </script>
</body>
</html>
